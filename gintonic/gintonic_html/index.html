<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for HTML5 for Linux version 5.6.0">
  <meta content="text/html; charset=utf-8" http-equiv=
  "content-type">
  <title></title>
  <link rel="stylesheet" href="problem.css">
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
  tex2jax: { 
    ignoreClass: ".*",
    inlineMath: [['$','$'], ['\\(','\\)']]
        },
  MMLorHTML: {
    prefer: {Firefox: "HTML"}
    }
  });
  </script>
  <script type="text/javascript" src=
  "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
  <div class="problembody">
    <div class="problemheader">
      <h1>Gin &amp; Tonic</h1>
      <h3>Problem ID: gintonic</h3>
    </div>
    <div style="width:33.00%" class="illustration">
      <img src="img-0001.png" alt="img-0001.png" class=
      "illustration">
      <div class="description">
        The "Klub of Allergenic Tonic Tasters In Scrollbar" as
        imagined by Midjourney.
      </div>
    </div>
    <p>It is once again time for the "Klub of Allergenic Tonic
    Tasters In Scrollbar" (KATTIS) to gather for their annual tonic
    tasting seance, where people with all kinds of exotic allergies
    will be attending.<br>
    You are the bartender for the night, and have been tasked with
    serving non-lethal drinks for the entire party. The Tonic
    Tasters should not be served just any drink – tonight it’s just
    Gin and Tonics!<br>
    <br>
    The KATTIS guests know how difficult it can be to find a safe
    drink, and have provided you with a list of their allergies in
    advance. In addition, given the wide variety of gins and tonic
    you serve, you only have a limited supply of each type of gin
    and tonic. You need to figure out how many attendees can
    receive a G&amp;T that is safe for them to enjoy.<br>
    <br>
    Specifically, you have <span class="tex2jax_process">$n$</span>
    members attending the KATTIS party, each with a list of
    <span class="tex2jax_process">$m_ i$</span> allergens they are
    allergic to. You also have <span class=
    "tex2jax_process">$g$</span> types of gin and <span class=
    "tex2jax_process">$i$</span> types of tonic available to serve.
    For each type of gin and tonic, you know the list of allergens
    it contains aswell as the available supply.<br></p>
    <p>A gin and tonic pair <span class=
    "tex2jax_process">$(j,r)$</span> is safe for a member
    <span class="tex2jax_process">$p$</span> if and only if none of
    the allergens of <span class="tex2jax_process">$j$</span> and
    <span class="tex2jax_process">$r$</span> are contained in the
    allergens of <span class="tex2jax_process">$p$</span>.<br>
    <br>
    Your task is to find the maximum number of allergenic attendees
    who can receive a safe-to-drink G&amp;T.</p>
    <h2>Input</h2>
    <p>The input consists of the following:</p>
    <ul class="itemize">
      <li>
        <p>Three integers <span class="tex2jax_process">$g$</span>
        (<span class="tex2jax_process">$1 \leq g \leq 100$</span>),
        <span class="tex2jax_process">$i$</span> (<span class=
        "tex2jax_process">$1 \leq i \leq 100$</span>) and
        <span class="tex2jax_process">$n$</span> (<span class=
        "tex2jax_process">$1 \leq n \leq 10^4$</span>), the number
        of gins, tonics and members attending the KATTIS party.</p>
      </li>
      <li>
        <p>For each gin <span class="tex2jax_process">$G_ i$</span>
        an integer <span class="tex2jax_process">$\ell _ j$</span>
        (<span class="tex2jax_process">$1 \leq \ell _ j \leq
        10^5$</span>), the amount of gin in units, followed by a
        list (<span class="tex2jax_process">$0 \leq length \leq
        10$</span>), consisting of space seperated names
        representing the allergens present in gin <span class=
        "tex2jax_process">$g_ i$</span>.</p>
      </li>
      <li>
        <p>For each tonic <span class="tex2jax_process">$t_
        i$</span> an integer <span class="tex2jax_process">$\ell _
        r$</span> (<span class="tex2jax_process">$1 \leq \ell _ r
        \leq 10^5$</span>), the amount of tonic in units, followed
        by a list (<span class="tex2jax_process">$0 \leq length
        \leq 10$</span>), consisting of space seperated names
        representing the allergens present in tonic <span class=
        "tex2jax_process">$t_ i$</span>.</p>
      </li>
      <li>
        <p>For each member <span class="tex2jax_process">$n_
        i$</span>, an alphanumeric name of at most length
        <span class="tex2jax_process">$10$</span> followed by a
        space seperated list (<span class="tex2jax_process">$0 \leq
        length \leq 10$</span>) of the allergens they are allergic
        to.</p>
      </li>
    </ul>
    <h2>Output</h2>
    <p>You should output a single integer, the maximum number of
    party guests that can receive a drink without anyone being
    exposed to any allergen they are allergic to.</p>
    <table class="sample" summary="sample data">
      <tr>
        <th>Sample Input 1</th>
        <th>Sample Output 1</th>
      </tr>
      <tr>
        <td>
          <pre>3 4 5
2 lactose cucumber
2 cucumber caffeine
1 lactose caffeine
2 lactose
2 cucumber lactose
1 caffeine
1 cucumber caffeine
hans lactose
peter lactose
george lactose cucumber
patrick lactose caffeine
lucas cucumber caffeine
</pre>
        </td>
        <td>
          <pre>2
</pre>
        </td>
      </tr>
    </table>
    <table class="sample" summary="sample data">
      <tr>
        <th>Sample Input 2</th>
        <th>Sample Output 2</th>
      </tr>
      <tr>
        <td>
          <pre>3 3 3
2 citrus
2 coffee
1 
2 grass
1 avocado
1 coffee
alice coffee
jac0b 
suzanne grass citrus cucumber
</pre>
        </td>
        <td>
          <pre>3
</pre>
        </td>
      </tr>
    </table>
  </div>
</body>
</html>
